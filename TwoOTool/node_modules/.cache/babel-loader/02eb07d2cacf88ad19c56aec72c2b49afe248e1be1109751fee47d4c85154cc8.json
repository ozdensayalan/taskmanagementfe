{"ast":null,"code":"import store from '../js/store';\nimport axios from 'axios';\nimport PopUp from '../components/PopUp.vue';\nexport default {\n  emits: ['addedProject'],\n  components: {\n    PopUp\n  },\n  data() {\n    return {\n      projects: []\n    };\n  },\n  created() {\n    this.getTasks();\n  },\n  methods: {\n    sortBy(prop) {\n      this.projects.sort((a, b) => a[prop] < b[prop] ? -1 : 1);\n    },\n    async getTasks() {\n      const tasks = {\n        id: store.state.id\n      };\n      try {\n        const response = await axios.get('http://localhost:8080/taskById', {\n          params: tasks\n        });\n        this.projects = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    deleteRecord(id) {\n      axios.delete(`http://localhost:8080/deleteTask?id=${id}`).then(response => {\n        console.log('Kullanıcı başarıyla silindi:', response);\n      }).catch(error => {\n        console.error('Kullanıcı silme hatası:', error);\n      });\n    }\n  },\n  watch: {\n    projects: {\n      deep: true,\n      handler() {\n        this.getTasks();\n      }\n    }\n  },\n  computed: {\n    isAdmin() {\n      return store.state.role === 'yes';\n    }\n  }\n};","map":{"version":3,"names":["store","axios","PopUp","emits","components","data","projects","created","getTasks","methods","sortBy","prop","sort","a","b","tasks","id","state","response","get","params","error","console","deleteRecord","delete","then","log","catch","watch","deep","handler","computed","isAdmin","role"],"sources":["src/pages/DashBoard.vue"],"sourcesContent":["<template>\n    <div>\n        <h1 class=\"grey--text ml-3 mb-4\">Task Lists</h1>\n        <v-layout class=\"ml-3\">\n            <div class=\"float-left\">\n                <v-btn depressed class=\"mb-4 mr-3\" @click=\"sortBy('title')\">\n                    <span>Sort</span>\n                    <v-icon right>mdi-message</v-icon>\n                </v-btn>\n                <v-btn depressed class=\"mb-4\" @click=\"sortBy('assign')\">\n                    <span>Sort</span>\n                    <v-icon right>mdi-account</v-icon>\n                </v-btn>\n            </div>\n            <div class=\"popup-container\" v-if=\"isAdmin\">\n                        <div class=\"mr-4\"> \n                             <pop-up @addedProject=\"addedProject\"></pop-up>\n                        </div>\n                    </div>\n        </v-layout>\n        <v-container>\n            <v-card v-for=\"project in projects\" :key=\"project.id\" :class=\"`project ${project.report}`\">\n                <v-layout row wrap class=\"mx-4 mb-8 pa-4\">\n                    <v-flex xs6 sm4 md2 class=\"pb-1\">\n                        <div class=\"caption grey--text\">Task Title</div>\n                        <div>{{ project.title }}</div>\n                    </v-flex>\n                    <v-flex xs6 sm4 md2 class=\"pb-1\">\n                        <div class=\"caption grey--text\">Assing To</div>\n                        <div>{{ project.assign }}</div>\n                    </v-flex>\n                    <v-flex xs6 sm4 md2 class=\"pb-1\">\n                        <div class=\"caption grey--text\">Status</div>\n                        <div>{{ project.status }}</div>\n                    </v-flex>\n                    <v-flex xs6 sm4 md2 class=\"pb-1\">\n                        <div class=\"caption grey--text\">Due Date</div>\n                        <div>{{ project.dueDate }}</div>\n                    </v-flex>\n                    <v-flex xs6 sm4 md2 class=\"pb-1\">\n                        <v-chip :class=\"`white--text ${project.report}`\">{{ project.report }}</v-chip>\n                    </v-flex>\n                    <v-flex xs6 sm4 md2 class=\"pb-1 d-flex align-center justify-sm-end\">\n                        <v-btn color=\"#0074D9\" style=\"width: 30px; height: 15px;\" v-if=\"isAdmin\" @click=\"deleteRecord(project.id)\">            \n                            <span style=\"font-size: 10px; color: white;\">Delete</span>\n                        </v-btn>\n                    </v-flex>\n                </v-layout>\n            </v-card>\n        </v-container>\n    </div>\n</template>\n\n<script>\n\nimport store from '../js/store'; \nimport axios from 'axios';\nimport PopUp from '../components/PopUp.vue';\n\nexport default {\n    emits: ['addedProject'],\n        components: {\n        PopUp\n    },\n    data() {\n        return {\n            projects: []\n        }\n    },\n    created() {\n        this.getTasks();\n    },\n    methods: {\n        sortBy(prop) {\n            this.projects.sort((a,b) => a[prop] < b[prop]? -1 : 1);\n        },       \n        async getTasks(){\n            const tasks = {\n        id: store.state.id\n      };\n        try {\n            const response = await axios.get('http://localhost:8080/taskById', {\n            params: tasks\n        });\n            this.projects=response.data\n        \n      } catch (error) {\n        console.error(error);\n      }\n    },\n    deleteRecord(id) {\n      axios.delete(`http://localhost:8080/deleteTask?id=${id}`)\n        .then(response => {\n          console.log('Kullanıcı başarıyla silindi:', response);\n        })\n        .catch(error => {\n          console.error('Kullanıcı silme hatası:', error);\n        });\n    }\n  },\n  watch: {\n    projects: {\n      deep: true,\n      handler() {\n        this.getTasks();\n      }\n    }\n  },    \n    computed: {\n    isAdmin() {\n      return store.state.role==='yes';\n    },\n  }\n}\n</script>\n\n<style>\n.popup-container {\n  position: absolute;\n  top: 20px; \n  right: 20px; \n}\n.project.completed {\n    border-left: 4px solid turquoise;\n}\n\n.project.ongoing {\n    border-left: 4px solid orange;\n}\n\n.project.overdue {\n    border-left: 4px solid tomato;\n}\n\n.v-chip.completed {\n    background: turquoise !important;\n}\n.v-chip.ongoing {\n    background: orange !important;\n}\n.v-chip.overdue {\n    background: tomato !important;\n}\n</style>\n\n\n\n"],"mappings":"AAuDA,OAAAA,KAAA;AACA,OAAAC,KAAA;AACA,OAAAC,KAAA;AAEA;EACAC,KAAA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA;EACA;EACAC,OAAA;IACAC,OAAAC,IAAA;MACA,KAAAL,QAAA,CAAAM,IAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAD,CAAA,CAAAF,IAAA,IAAAG,CAAA,CAAAH,IAAA;IACA;IACA,MAAAH,SAAA;MACA,MAAAO,KAAA;QACAC,EAAA,EAAAhB,KAAA,CAAAiB,KAAA,CAAAD;MACA;MACA;QACA,MAAAE,QAAA,SAAAjB,KAAA,CAAAkB,GAAA;UACAC,MAAA,EAAAL;QACA;QACA,KAAAT,QAAA,GAAAY,QAAA,CAAAb,IAAA;MAEA,SAAAgB,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACAE,aAAAP,EAAA;MACAf,KAAA,CAAAuB,MAAA,wCAAAR,EAAA,IACAS,IAAA,CAAAP,QAAA;QACAI,OAAA,CAAAI,GAAA,iCAAAR,QAAA;MACA,GACAS,KAAA,CAAAN,KAAA;QACAC,OAAA,CAAAD,KAAA,4BAAAA,KAAA;MACA;IACA;EACA;EACAO,KAAA;IACAtB,QAAA;MACAuB,IAAA;MACAC,QAAA;QACA,KAAAtB,QAAA;MACA;IACA;EACA;EACAuB,QAAA;IACAC,QAAA;MACA,OAAAhC,KAAA,CAAAiB,KAAA,CAAAgB,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}