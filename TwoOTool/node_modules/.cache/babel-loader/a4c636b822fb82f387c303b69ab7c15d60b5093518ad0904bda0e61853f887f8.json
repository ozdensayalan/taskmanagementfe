{"ast":null,"code":"import PopUp from '../components/EditPopup.vue';\nimport store from '../js/store';\nimport axios from 'axios';\nimport { mapMutations } from 'vuex';\nexport default {\n  emits: ['editProject'],\n  components: {\n    PopUp\n  },\n  data() {\n    return {\n      myProjects: []\n    };\n  },\n  watch: {\n    myProjects: {\n      deep: true,\n      // Derinlemesine izleme\n      handler(newProjects) {\n        // myProjects verisi değiştiğinde çalışacak kod\n        // Burada gerekli servis çağrısı yapılabilir\n        this.getTasks(); // Örnek olarak fetchProjects adında bir method çağrısı\n      }\n    }\n  },\n\n  methods: {\n    ...mapMutations(['setLoggedIn']),\n    async getTasks() {\n      const tasks = {\n        id: store.state.id\n      };\n      try {\n        const response = await axios.get('http://localhost:8080/myTasks', {\n          params: tasks\n        });\n        this.myProjects = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async updateProject() {\n      const tasks = {\n        id: store.state.id\n      };\n      // Güncellenen proje verilerini myProjects dizisinde güncelle\n      const response = await axios.get('http://localhost:8080/myTasks', {\n        params: tasks\n      });\n      this.myProjects = response.data;\n    }\n  },\n  created() {\n    this.getTasks();\n  },\n  mounted() {\n    this.getTasks(); // Sayfa yüklendiğinde projeleri çek\n  }\n};","map":{"version":3,"names":["PopUp","store","axios","mapMutations","emits","components","data","myProjects","watch","deep","handler","newProjects","getTasks","methods","tasks","id","state","response","get","params","error","console","updateProject","created","mounted"],"sources":["src/pages/MyProjects.vue"],"sourcesContent":["<template>\n    <div>\n        <h1 class=\"grey--text\">Tasks</h1>\n        <v-container>\n             <v-snackbar v-model=\"snackbar\" color=\"indigo\">\n        </v-snackbar>\n            <v-expansion-panels>\n                <v-expansion-panel v-for=\"project in myProjects\" :key=\"project.id\">\n                    <v-expansion-panel-header>{{  project.title }}</v-expansion-panel-header>\n                    <v-expansion-panel-content>\n                        <h3 class=\"grey--text\">Due by {{ project.dueDate}}</h3>\n                        <p>{{ project.info }}</p>\n                        <div class=\"d-flex justify-center mb-2\">\n                             <pop-up :initialContent=\"project\" @editProject=\"updateProject\"></pop-up>\n                        </div>\n                    </v-expansion-panel-content>\n                </v-expansion-panel>\n            </v-expansion-panels>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport PopUp from '../components/EditPopup.vue';\nimport store from '../js/store'; \nimport axios from 'axios';\n\nimport { mapMutations } from 'vuex'; \n\nexport default {\n    emits: ['editProject'],\n    components: {\n        PopUp\n    },\n    data() {\n        return {\n            myProjects: []\n        }\n    },\n    watch: {\n    myProjects: {\n      deep: true, // Derinlemesine izleme\n      handler(newProjects) {\n        // myProjects verisi değiştiğinde çalışacak kod\n        // Burada gerekli servis çağrısı yapılabilir\n        this.getTasks(); // Örnek olarak fetchProjects adında bir method çağrısı\n      }\n    }\n  },\n    methods: { \n        ...mapMutations(['setLoggedIn']),     \n        async getTasks(){\n            const tasks = {\n        id: store.state.id\n      };\n        try {\n            const response = await axios.get('http://localhost:8080/myTasks', {\n            params: tasks\n        });\n            this.myProjects=response.data\n \n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async updateProject() {\n        const tasks = {\n        id: store.state.id\n      };\n      // Güncellenen proje verilerini myProjects dizisinde güncelle\n      const response = await axios.get('http://localhost:8080/myTasks', {\n            params: tasks\n        });\n            this.myProjects=response.data\n    }\n    },\n    created() {\n        this.getTasks();\n    },\n  mounted() {\n    this.getTasks(); // Sayfa yüklendiğinde projeleri çek\n  }\n}\n</script>"],"mappings":"AAuBA,OAAAA,KAAA;AACA,OAAAC,KAAA;AACA,OAAAC,KAAA;AAEA,SAAAC,YAAA;AAEA;EACAC,KAAA;EACAC,UAAA;IACAL;EACA;EACAM,KAAA;IACA;MACAC,UAAA;IACA;EACA;EACAC,KAAA;IACAD,UAAA;MACAE,IAAA;MAAA;MACAC,QAAAC,WAAA;QACA;QACA;QACA,KAAAC,QAAA;MACA;IACA;EACA;;EACAC,OAAA;IACA,GAAAV,YAAA;IACA,MAAAS,SAAA;MACA,MAAAE,KAAA;QACAC,EAAA,EAAAd,KAAA,CAAAe,KAAA,CAAAD;MACA;MACA;QACA,MAAAE,QAAA,SAAAf,KAAA,CAAAgB,GAAA;UACAC,MAAA,EAAAL;QACA;QACA,KAAAP,UAAA,GAAAU,QAAA,CAAAX,IAAA;MAEA,SAAAc,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACA,MAAAE,cAAA;MACA,MAAAR,KAAA;QACAC,EAAA,EAAAd,KAAA,CAAAe,KAAA,CAAAD;MACA;MACA;MACA,MAAAE,QAAA,SAAAf,KAAA,CAAAgB,GAAA;QACAC,MAAA,EAAAL;MACA;MACA,KAAAP,UAAA,GAAAU,QAAA,CAAAX,IAAA;IACA;EACA;EACAiB,QAAA;IACA,KAAAX,QAAA;EACA;EACAY,QAAA;IACA,KAAAZ,QAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}